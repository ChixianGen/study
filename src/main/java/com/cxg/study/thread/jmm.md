### JMM - Java Memory Model Java内存模型

> JMM主要是为了规定了线程和内存之间的一些关系

> 根据JMM的设计，系统存在一个主内存(Main Memory)，Java中所有变量都储存在主存中，对于所有线程都是共享的。
每条线程都有自己的工作内存(Working Memory)，工作内存中保存的是主存中某些变量的拷贝，线程对所有变量的操作都是在工作内存中进行，
线程之间无法相互直接访问，变量传递均需要通过主存完成。

- 8种原子操作
    - lock     （锁定）：作用于主内存的变量，把一个变量标识为线程独占状态
    - unlock   （解锁）：作用于主内存的变量，它把一个处于锁定状态的变量释放出来，释放后的变量才可以被其他线程锁定
    - read     （读取）：作用于主内存变量，它把一个变量的值从主内存传输到线程的工作内存中，以便随后的load动作使用
    - load     （载入）：作用于工作内存的变量，它把read操作从主存中变量放入工作内存中
    - use      （使用）：作用于工作内存中的变量，它把工作内存中的变量传输给执行引擎，每当虚拟机遇到一个需要使用到变量的值，就会使用到这个指令
    - assign   （赋值）：作用于工作内存中的变量，它把一个从执行引擎中接受到的值放入工作内存的变量副本中
    - store    （存储）：作用于主内存中的变量，它把一个从工作内存中一个变量的值传送到主内存中，以便后续的write使用
    - write 　 （写入）：作用于主内存中的变量，它把store操作从工作内存中得到的变量的值放入主内存的变量中